#!/usr/bin/sh
# @author nate zhou
# @since 2024,2025,2026
# hibernate with a wmenu warning prompt

if [ "$XDG_SESSION_TYPE" = "wayland" ]; then
    menu="${HOME}/.local/bin/wmenu-color"
elif [ -n "$XAUTHORITY" ]; then
    menu="dmenu"
fi

user_choice="$(printf "no\nyes" | $menu -p "System Hibernation?")"

[ "$user_choice" = "yes" ] && systemctl hibernate || exit 0
