#!/usr/bin/sh
# @author nate zhou
# @since 2025
# remove pacman's packages cache
# @depends pacman-contrib

IGNORED_PKGS='intel-ucode,amd-ucode,nvidia-utils,nvidia-open'

set -x
removeUninstalled() {
    sudo paccache --verbose --remove --ignore "$IGNORED_PKGS" \
                  --uninstalled --keep 0
}

removeOldEnough() {
    sudo paccache --verbose --remove --keep 3
}

removeUninstalled
removeOldEnough

