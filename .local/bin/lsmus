#!/usr/bin/sh
# @author nate zhou
# @since 2024,2025
# list current playing music with mpc

ARTIST="󰠃"
TITLE="󰝚"
ALBUM="󱍙"
icon="󰝚"

if [ $(mpc status '%state%') != "playing" ]; then
    icon="󰝛"
fi

msg=$(mpc --format="$ARTIST %artist%\n$TITLE %title%\n$ALBUM %album% (%date%)" \
          current)
state="[$icon $(mpc status %state%)]"

if [ -n "$msg" ]; then
    echo "$msg"
    if [ "$XDG_SESSION_TYPE" != "tty" ]; then
        [ -z "$msg" ] && title=""
        notify-send -u low -r 188 -t 5000 "$state" "$msg"
    fi
fi
