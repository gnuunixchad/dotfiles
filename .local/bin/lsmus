#!/usr/bin/sh
# @author nate zhou
# @since 2024,2025
# list current playing music with mpc

ARTIST="󰠃"
TITLE="󰝚"
ALBUM="󱍙"

msg=$(mpc --format="$ARTIST %artist%\n$TITLE %title%\n$ALBUM %album% (%date%)" current)
state="[$(mpc status %state%)]"

if [ -n "$msg" ]; then
    echo "$msg"
    if [ "$XDG_SESSION_TYPE" != "tty" ]; then
        [ -z "$msg" ] && title=""
        notify-send -u low -r 188 -t 9000 "$state" "$msg"
    fi
fi
